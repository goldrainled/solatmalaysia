/* ============================
   GLOBAL RESET & BASE
============================ */
html, body {
  width:100vw; height:100vh; margin:0; padding:0;
  overflow:hidden; background:#0b0500;
  color:#fff; font-family:Poppins,Arial,sans-serif;
}

/* ============================
   BACKGROUND SLIDESHOW
============================ */
.slideshow-bg {
  position:fixed; inset:0; z-index:-2; overflow:hidden;
}
.slideshow-bg img {
  position:absolute; inset:0; width:100%; height:100%;
  object-fit:cover; opacity:0; animation:fadeBG 40s infinite;
}
@keyframes fadeBG {
  0%{opacity:0} 10%{opacity:1} 40%{opacity:1} 55%{opacity:0} 100%{opacity:0}
}

/* ============================
   CARD COMPONENTS
============================ */
.card {
  background:rgba(255,255,255,.12);
  border:1px solid rgba(255,255,255,.18);
  border-radius:14px;
  display:flex; flex-direction:column;
  align-items:center; justify-content:center;
  box-shadow:0 6px 20px rgba(0,0,0,.5);
  box-sizing:border-box;
}

/* Scale wrapper (portrait fix) */
.card-scale {
  width:100%;
  height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  flex-direction:column;
}

/* Clock */
.clock-box { display:flex; flex-direction:column; align-items:center; }
.clock-title {
  font-size:clamp(1rem,2vh,1.4rem);
  font-weight:500;
  margin-bottom:4px;
  opacity:.95;
}
.clock-time {
  font-size:clamp(2rem,4vh,4rem);
  font-weight:800;
  line-height:1.1;
}

/* ============================
   PRAYER ROWS
============================ */
.prayer-row {
  display:flex; justify-content:space-between;
  align-items:center;
  padding:.9rem 1.2rem;
  border-radius:8px;
}
.prayer-name { font-weight:500; }
.prayer-time { font-weight:800; text-align:right; }

/* Highlight */
.currentPrayer {
  background:rgba(255,215,0,.28)!important;
  border:2px solid #ffd700!important;
  box-shadow:0 0 24px rgba(255,215,0,.55);
}

/* ============================
   COUNTDOWN
============================ */
.countdown-row {
  display:flex; gap:1rem; justify-content:center; align-items:center;
}
.count-box {
  display:flex; flex-direction:column;
  justify-content:center; align-items:center;
  min-width:48px;
  padding:.5rem .6rem;
  background:rgba(0,0,0,.3);
  border-radius:10px;
  border:1px solid rgba(255,255,255,.08);
}
.count-number { font-weight:900; font-size:clamp(1.4rem,3vh,3rem); }
.count-label  { font-size:.7rem; opacity:.9; }

/* ============================
   GRID LAYOUT BASE
============================ */
.container-grid {
  position:absolute; inset:0;
  padding:clamp(10px,1.2vw,28px);
  display:grid; gap:clamp(4px,0.4vw,8px);
  box-sizing:border-box;
}

.bottom-row { display:grid; gap:clamp(10px,1vw,20px); }
.prayer-list { display:grid; gap:8px; overflow:hidden; }

/* ============================
   LANDSCAPE MODE (16:9+)
============================ */
@media (min-aspect-ratio:16/9) {

  .container-grid {
    grid-template-columns:1.2fr 1fr;
    grid-template-rows:
      clamp(16vh,18vh,22vh)
      clamp(14vh,16vh,18vh)
      1fr;
  }

  .top-row {
    grid-column:1/3;
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:clamp(12px,1.2vw,24px);
  }

  #nextPrayerCard {
    grid-column:1/3;
  }

  .bottom-row {
    grid-column:1/3;
    grid-template-columns:.9fr 1.1fr;
  }

  .prayer-list {
    grid-template-rows:repeat(7,1fr);
    gap:clamp(6px,.7vh,10px);
  }
}

@media (max-aspect-ratio:9/16) {

  /* AUTO HEIGHT GRID â€” FIXES ALL ISSUES */
  .container-grid {
    grid-template-columns: 1fr;
    grid-template-rows:
      auto   /* Clock */
      auto   /* Current */
      auto   /* Next */
      auto   /* Countdown */
      1fr;   /* Prayer list fills the rest */
    gap: clamp(4px, 0.6vh, 8px);
    padding-top: clamp(4px, 1vh, 10px);
    height: 100vh;
    overflow: hidden;
  }

  /* SCALE WRAPPER */
  .card-scale {
    transform: scale(0.88);
    transform-origin: top center;
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  /* CLOCK SIZES */
  .clock-title {
    font-size: clamp(1rem, 1.8vh, 1.4rem);
  }
  .clock-time {
    font-size: clamp(2rem, 3.4vh, 3.2rem);
    line-height: 1.0;
  }

  /* CURRENT & NEXT PRAYER */
  #currentPrayerCard .time-large,
  #nextPrayerCard .time-large {
    font-size: clamp(1.6rem, 2.2vh, 2.8rem);
  }
  #currentPrayerCard .time-label,
  #nextPrayerCard .time-label {
    font-size: clamp(0.8rem, 1.3vh, 1.2rem);
  }

  /* COUNTDOWN ADJUST */
  .countdown-row {
    gap: clamp(4px, 1vw, 12px);
  }

  .count-box {
    padding: clamp(4px, 0.8vh, 8px);
    min-width: clamp(28px, 7vw, 50px);
  }

  /* PRAYER LIST */
  .prayer-list {
    grid-template-rows: repeat(7, 1fr);
    gap: clamp(3px, 0.5vh, 6px);
  }
}
